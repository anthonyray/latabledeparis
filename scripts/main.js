window.restaurant={Models:{},Collections:{},Views:{},Routers:{},init:function(){"use strict";this.router=new this.Routers.AppRouter($("#appview")),Backbone.history.start()}},$(document).ready(function(){"use strict";restaurant.init()}),this.JST=this.JST||{},this.JST["app/scripts/templates/booking-confirm.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(){var a="";return a}function g(a,b){var d,e,g,h="";return h+='\n    			<li>Your table will be booked on the : <b class="success">',g={hash:{},inverse:l.noop,fn:l.program(1,f,b),data:b},d=c.humanReadableDate||a.humanReadableDate,e=d?d.call(a,a.bookingDate,g):m.call(a,"humanReadableDate",a.bookingDate,g),(e||0===e)&&(h+=e),h+="</b></li>\n    		"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i,j,k="",l=this,m=c.helperMissing;return k+='<h1 class="',j={hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e},h=c.bookingComplete||b.bookingComplete,i=h?h.call(b,b.tableNumber,b.bookingDate,j):m.call(b,"bookingComplete",b.tableNumber,b.bookingDate,j),(i||0===i)&&(k+=i),k+='">3.Confirm</h1>\n<div class="panel panel-default">\n  <div class="panel-body">\n    <p>Summary of your reservation</p>\n    	<ul>\n    		',i=c["if"].call(b,b.bookingDate,{hash:{},inverse:l.noop,fn:l.program(3,g,e),data:e}),(i||0===i)&&(k+=i),k+="\n    			<li>",j={hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e},h=c.tableNumber||b.tableNumber,i=h?h.call(b,b.tableNumber,j):m.call(b,"tableNumber",b.tableNumber,j),(i||0===i)&&(k+=i),k+="</li>\n    	</ul>\n    ",j={hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e},h=c.bookingButton||b.bookingButton,i=h?h.call(b,b.tableNumber,b.bookingDate,j):m.call(b,"bookingButton",b.tableNumber,b.bookingDate,j),(i||0===i)&&(k+=i),k+="\n\n  </div>\n</div>\n\n"}),this.JST["app/scripts/templates/booking-datepicker.hbs"]=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<form>\n	<input id="datepicker" placeholder="Choose a date ..."></input>\n	<p></p>\n</form>	\n\n'}),this.JST["app/scripts/templates/booking-datetitle.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(){return'\n	<h1 class="success">1. Pick a date</h1>\n'}function g(){return"\n	<h1>1.Pick a date</h1>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j=this;return h=c["if"].call(b,b.bookingDate,{hash:{},inverse:j.program(3,g,e),fn:j.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+="\n\n"}),this.JST["app/scripts/templates/booking-map.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(){return"\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i,j="",k=this,l=c.helperMissing;return j+='<h1 class="',i={hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e},g=c.tableBooked||b.tableBooked,h=g?g.call(b,b.tableNumber,i):l.call(b,"tableBooked",b.tableNumber,i),(h||0===h)&&(j+=h),j+='">2. Pick a table</h1>\n\n	<div class="map">\n		<div id="table" class="table table-1">1\n		</div>\n		<div id="table" class="table table-2">2\n		</div>\n		<div id="table" class="table table-3">3\n		</div>\n		<div id="table" class="table table-4">4\n		</div>\n		<div id="table" class="table table-5">5\n		</div>\n		<div id="table" class="table table-6">6\n		</div>\n		<div id="table" class="table table-7">7\n		</div>\n		<div id="table" class="table table-8">8\n		</div>\n		<div id="table" class="table table-9">9\n		</div>\n		<div id="table" class="table table-10">10\n		</div>\n		<div id="table" class="table table-11">11\n		</div>\n	</div>\n\n'}),this.JST["app/scripts/templates/booking.hbs"]=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<h1>Book a table</h1>\n<div id="booking-datetitle"></div>\n<div id="booking-datepicker"></div>\n<div id="booking-map"></div>\n<div id="booking-confirm"></div>\n<br>'}),this.JST["app/scripts/templates/dish.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<br>\n<div class="media">\n\n    <img class="pull-left media-object img-rounded" src="images/thumb/',(f=c.id)?f=f.call(b,{hash:{},data:e}):(f=b.id,f=typeof f===h?f.apply(b):f),g+=i(f)+'.jpg">\n\n  <div class="media-body text-center">\n    <h1 class="media-heading">',(f=c.title)?f=f.call(b,{hash:{},data:e}):(f=b.title,f=typeof f===h?f.apply(b):f),g+=i(f)+"</h1>\n   	<p>",(f=c.description)?f=f.call(b,{hash:{},data:e}):(f=b.description,f=typeof f===h?f.apply(b):f),g+=i(f)+"</p><p><i>",(f=c.price)?f=f.call(b,{hash:{},data:e}):(f=b.price,f=typeof f===h?f.apply(b):f),g+=i(f)+" €</i></p>\n  </div>\n</div>\n\n\n"}),this.JST["app/scripts/templates/information.hbs"]=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="row">\n	<div class="col-xs-12 col-md-7">\n		<h1>La Table de Paris</h1>\n		<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1313.0664799753683!2d2.318587299999987!3d48.836602499999955!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e6704a9df9b21f%3A0x2850f65d125bc6aa!2s1+Place+de+Catalogne!5e0!3m2!1sen!2s!4v1400620499618" width="600" height="450" frameborder="0" style="border:0"></iframe>\n	</div>\n	<div class="col-xs-12 col-md-5">\n		<hr class="menuseparator">\n		<h3>Access</h3>\n		<ul>\n			<li>1 Place de Catalogne | 75014 Paris</li>\n			<li>Metro : Gaité (L13), MontParnasse (L4)</li>\n			<li>Bus : 28</li>\n		</ul>\n	</div>\n</div>\n'}),this.JST["app/scripts/templates/landing.hbs"]=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="cover-container">\n<img id="logo"  src="images/logo2.svg"></img>\n</div>\n<div class="container">\n	<div class="row">\n		<div class="col-xs-12">\n			<h1 class="text-center">La Table de Paris</h1>\n			<br>\n			<p>\n			A restaurant doesn’t become a legend by accident, and it certainly can’t stay that way by resting on its laurels.\n			</p>\n			<p>\n			"La Table de Paris" is over 24 years old and still in the very prime of life. The restaurant is dear to native Parisians, which might help explain why it is just as beloved by tourists from the world over.\n			</p>\n			<p>\n			In 1990, La table de Paris was born out of a very simple concept – provide a decent meal at a reasonable price and give customers good service in order to earn their loyalty. 1 million meals, the recipe is still every bit as much a success.\n			</p>\n			<p>\n			This place has known and been touched by all those, the many famous and anonymous faces, who have dined there, on romantic dates, as a family or with friends. It has developed more than a personality; they have given it a soul.\n			</p>\n			<br>\n		</div>\n	</div>\n</div>\n\n<div class="container-fluid footer text-center">\n	    <div class="row">\n	    	<div class="col-xs-4">\n				<p> La Table de Paris </p>\n				<p><i>Parisian Food </i></p>\n	    	</div>\n	    	<div class="col-xs-4">\n	    		<p>1 Place de Catalogne | 75014 Paris</p>\n	    		<p>Open <b>7</b> days a week</p>\n	    		<p>01 41 42 43 44</p>\n	    		<p>restaurant@latabledeparis.com</p>\n	    	</div>\n	    	<div class="col-xs-4">\n	    		<p> Métro : Gaité - Montparnasse L13,L4</p>\n	    		<p> Bus: 28\n	    	</div>\n	    </div>\n	    <hr class="footerseparator">\n	    <div class="row">\n	    	<div class="col-xs-12">\n	    		<span class="fa-stack fa-lg">\n	    		  <i class="fa fa-circle fa-stack-2x"></i>\n	    		  <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>\n	    		</span>\n	    		<span class="fa-stack fa-lg">\n	    		  <i class="fa fa-circle fa-stack-2x"></i>\n	    		  <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>\n	    		</span>\n	    		<span class="fa-stack fa-lg">\n	    		  <i class="fa fa-circle fa-stack-2x"></i>\n	    		  <i class="fa fa-instagram fa-stack-1x fa-inverse"></i>\n	    		</span>\n	    	</div>\n	    </div>\n	</div>\n</div>\n'}),this.JST["app/scripts/templates/menu-dishthumb.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<div class="col-xs-12 col-md-4">\n	<a href="#/dish/',(f=c.id)?f=f.call(b,{hash:{},data:e}):(f=b.id,f=typeof f===h?f.apply(b):f),g+=i(f)+'"><img src="images/thumb/',(f=c.id)?f=f.call(b,{hash:{},data:e}):(f=b.id,f=typeof f===h?f.apply(b):f),g+=i(f)+'.jpg" class="img-responsive img-centered img-rounded"></a>\n	<p>',(f=c.title)?f=f.call(b,{hash:{},data:e}):(f=b.title,f=typeof f===h?f.apply(b):f),g+=i(f)+"</p>\n</div>\n"}),this.JST["app/scripts/templates/menu.hbs"]=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<h1>Menu</h1>\n<h2 class="text-center">Starters</h2>\n<hr class="menuseparator">\n\n<div class="row text-center" id="starters">\n</div>\n\n<h2 class="text-center">Main Course</h2>\n<hr class="menuseparator">\n\n<div class="row text-center" id="maindish">\n</div>\n\n<h2 class="text-center">Dessert</h2>\n<hr class="menuseparator">\n\n<div class="row text-center" id="desert">\n</div>\n\n'}),restaurant.Models=restaurant.Models||{},function(){"use strict";restaurant.Models.BookingModel=Backbone.Model.extend({url:"",initialize:function(){},defaults:{bookingDate:null,tableNumber:0},validate:function(){},parse:function(a){return a}})}(),restaurant.Models=restaurant.Models||{},function(){"use strict";restaurant.Models.DishModel=Backbone.Model.extend({initialize:function(){},defaults:{id:"",title:"",description:"",price:"",currency:"$",category:"starters"}})}(),restaurant.Collections=restaurant.Collections||{},function(){"use strict";restaurant.Collections.DishesCollection=Backbone.Collection.extend({model:restaurant.Models.DishModel,initialize:function(){this.add([new this.model({id:"ST01",title:"Oeufs Mimosa",price:9,description:"Hard boiled egg, served with a delicate home made mayonnaise, accompanied by light hints of basil",category:"starters"}),new this.model({id:"ST02",title:"Gratinée French Onion Soup",price:10,description:"Served with melted cheese and parsley",category:"starters"}),new this.model({id:"ST03",title:"House Salad",price:10,description:"Fresh mixed greens, diced tomatoes marinated in olive oil, basil, garlic and topped with French dressing",category:"starters"}),new this.model({id:"MD01",title:"Parisian Omelette",price:6,description:"French Omelette accompanied with rice and beans",category:"maindish"}),new this.model({id:"MD02",title:"Vegetarian Plate of the Day",price:18,description:"Selection of fresh vegetables from our kitchen garden",category:"maindish"}),new this.model({id:"MD03",title:"Sautéed Mushrooms Romance",price:22,description:"Garlic, white wine parsley and a touch of cream",category:"maindish"}),new this.model({id:"DS01",title:"Sweet asparagus crêpe",price:6,description:"Baby asparagus served in a chocolate crepe",category:"desert"}),new this.model({id:"DS02",title:"Raspberry muesli from the garden",price:7,description:"Home made rapsberry yoghurt accompanied with cereals",category:"desert"}),new this.model({id:"DS03",title:"French vanilla ice cream",description:"Home made ice cream",price:10,category:"desert"})])}})}(),restaurant.Views=restaurant.Views||{},function(){"use strict";restaurant.Views.BookingView=Backbone.View.extend({template:JST["app/scripts/templates/booking.hbs"],className:"page container",render:function(){this.destroyViews();var a=this;this.$el.html(this.template()),_.delay(function(){return a.subviews=[new restaurant.Views.BookingDatetitleView({el:"#booking-datetitle",model:a.model}),new restaurant.Views.BookingDatepickerView({el:"#booking-datepicker",model:a.model}),new restaurant.Views.BookingConfirmView({el:"#booking-confirm",model:a.model}),new restaurant.Views.BookingMapView({el:"#booking-map",model:a.model})],a},50)},initialize:function(){this.subviews=[]},destroyViews:function(){_.invoke(this.views,"destroy"),this.subviews.length=0},transitionIn:function(a){var b=this,c=function(){b.$el.addClass("is-visible"),b.$el.one("transitionend",function(){_.isFunction(a)&&a()})};_.delay(c,20)},transitionOut:function(a){var b=this;b.$el.removeClass("is-visible"),b.$el.one("transitionend",function(){_.isFunction(a)&&a()})}})}(),restaurant.Views=restaurant.Views||{},function(){"use strict";restaurant.Views.BookingDatetitleView=Backbone.View.extend({template:JST["app/scripts/templates/booking-datetitle.hbs"],initialize:function(){this.render(),this.listenTo(this.model,"change",this.render)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this}})}(),restaurant.Views=restaurant.Views||{},function(){"use strict";restaurant.Views.BookingDatepickerView=Backbone.View.extend({template:JST["app/scripts/templates/booking-datepicker.hbs"],initialize:function(){var a=this;this.render(),this.$("#datepicker").datepicker({autoclose:!0}).on("changeDate",function(b){a.model.set({bookingDate:b.date})})},render:function(){return this.$el.html(this.template(this.model.toJSON())),this}})}(),restaurant.Views=restaurant.Views||{},function(){"use strict";restaurant.Views.BookingMapView=Backbone.View.extend({template:JST["app/scripts/templates/booking-map.hbs"],events:{"click .table":"toggleTable"},initialize:function(){this.render(),this.listenTo(this.model,"change",this.render)},render:function(){var a=this;return this.$el.html(this.template(this.model.toJSON())),this.$(".table").each(function(){var b=$(this).text();b==a.model.get("tableNumber")&&$(this).toggleClass("reserved")}),this},toggleTable:function(a){var b=$(a.currentTarget);this.model.set({tableNumber:b.text()})}})}(),restaurant.Views=restaurant.Views||{},function(){"use strict";restaurant.Views.BookingConfirmView=Backbone.View.extend({template:JST["app/scripts/templates/booking-confirm.hbs"],render:function(){return this.$el.html(this.template(this.model.toJSON())),this},initialize:function(){this.render(),this.listenTo(this.model,"change",this.render)}})}(),restaurant.Views=restaurant.Views||{},function(){"use strict";restaurant.Views.LandingView=Backbone.View.extend({template:JST["app/scripts/templates/landing.hbs"],className:"page",initialize:function(){this.render()},render:function(){return this.$el.html(this.template()),this},transitionIn:function(a){var b=this,c=function(){b.$el.addClass("is-visible"),b.$el.one("transitionend",function(){_.isFunction(a)&&a()})};_.delay(c,50)},transitionOut:function(a){var b=this;b.$el.removeClass("is-visible"),b.$el.one("transitionend",function(){_.isFunction(a)&&a()})}})}(),restaurant.Views=restaurant.Views||{},function(){"use strict";restaurant.Views.MenuView=Backbone.View.extend({template:JST["app/scripts/templates/menu.hbs"],className:"page container",initialize:function(){this.startersCollection=this.collection.filter(function(a){return"starters"==a.get("category")}),this.mainDishCollection=this.collection.filter(function(a){return"maindish"==a.get("category")}),this.desertCollection=this.collection.filter(function(a){return"desert"==a.get("category")}),this.render()},render:function(){var a=this;return this.$el.html(this.template()),this.startersSection=this.$("#starters"),this.mainDishSection=this.$("#maindish"),this.desertSection=this.$("#desert"),this.startersCollection.forEach(function(b){a.addOne(b,a.startersSection)}),this.mainDishCollection.forEach(function(b){a.addOne(b,a.mainDishSection)}),this.desertCollection.forEach(function(b){a.addOne(b,a.desertSection)}),this},addOne:function(a,b){var c=new restaurant.Views.MenuDishthumbView({model:a});b.append(c.render().el)},transitionIn:function(a){var b=this,c=function(){b.$el.addClass("is-visible"),b.$el.one("transitionend",function(){_.isFunction(a)&&a()})};_.delay(c,20)},transitionOut:function(a){var b=this;b.$el.removeClass("is-visible"),b.$el.one("transitionend",function(){_.isFunction(a)&&a()})}})}(),restaurant.Views=restaurant.Views||{},function(){"use strict";restaurant.Views.DishView=Backbone.View.extend({template:JST["app/scripts/templates/dish.hbs"],className:"page container",initialize:function(){this.render()},render:function(){return this.$el.html(this.template(this.model.toJSON())),this},transitionIn:function(a){var b=this,c=function(){b.$el.addClass("is-visible"),b.$el.one("transitionend",function(){_.isFunction(a)&&a()})};_.delay(c,20)},transitionOut:function(a){var b=this;b.$el.removeClass("is-visible"),b.$el.one("transitionend",function(){_.isFunction(a)&&a()})}})}(),restaurant.Views=restaurant.Views||{},function(){"use strict";restaurant.Views.MenuDishthumbView=Backbone.View.extend({template:JST["app/scripts/templates/menu-dishthumb.hbs"],render:function(){return this.$el.html(this.template(this.model.toJSON())),this},initialize:function(){this.render()}})}(),restaurant.Views=restaurant.Views||{},function(){"use strict";restaurant.Views.InformationView=Backbone.View.extend({template:JST["app/scripts/templates/information.hbs"],className:"page container",initialize:function(){this.render()},render:function(){return this.$el.html(this.template()),this},transitionIn:function(a){var b=this,c=function(){b.$el.addClass("is-visible"),b.$el.one("transitionend",function(){_.isFunction(a)&&a()})};_.delay(c,20)},transitionOut:function(a){var b=this;b.$el.removeClass("is-visible"),b.$el.one("transitionend",function(){_.isFunction(a)&&a()})}})}(),restaurant.Routers=restaurant.Routers||{},function(){"use strict";restaurant.Routers.AppRouter=Backbone.Router.extend({initialize:function(a){this.el=a,this.dishesCollection=new restaurant.Collections.DishesCollection,this.bookingView=new restaurant.Views.BookingView({model:new restaurant.Models.BookingModel}),this.landingView=new restaurant.Views.LandingView,this.menuView=new restaurant.Views.MenuView({collection:this.dishesCollection}),this.informationView=new restaurant.Views.InformationView},currentView:null,switchView:function(a){var b=this.currentView||null,c=a;b&&b.transitionOut(function(){b.remove()}),c.render(),this.el.append(c.el),c.transitionIn(),this.currentView=c},routes:{booking:"showBookingView",menu:"showMenuView","dish/:id":"showDishView",informations:"showInformationView","":"landing"},showBookingView:function(){this.switchView(this.bookingView)},landing:function(){this.switchView(this.landingView)},showMenuView:function(){this.switchView(this.menuView)},showDishView:function(a){var b=this.dishesCollection.find(function(b){return b.get("id")==a}),c=new restaurant.Views.DishView({model:b});this.switchView(c)},showInformationView:function(){this.switchView(this.informationView)}})}();